"use strict";(self["webpackChunkecontract_frontend"]=self["webpackChunkecontract_frontend"]||[]).push([[494],{2494:function(a,t,o){o.r(t),o.d(t,{default:function(){return d}});var e=function(){var a=this,t=a._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"card border-0"},[t("div",{staticClass:"card-body"},[t("h1",{staticClass:"fw-bold title-page"},[a._v(a._s(a.title))]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-4 col-sm-12"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Tên công ty")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_name,expression:"Company.company_name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập tên công ty"},domProps:{value:a.Company.company_name},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_name",t.target.value)}}})])]),t("div",{staticClass:"col-md-4 col-sm-12"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Mã số thuế")]),t("div",{staticClass:"input-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_taxcode,expression:"Company.company_taxcode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập mã số thuế công ty"},domProps:{value:a.Company.company_taxcode},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_taxcode",t.target.value)}}}),t("button",{staticClass:"btn btn-primary-soft",attrs:{type:"button",id:"button-addon1"},on:{click:function(t){return a.getInfo()}}},[a._v(" Lấy thông tin ")])]),t("small",[a._v(a._s(a.company_type))])])]),t("div",{staticClass:"col-md-4 col-12"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Ngày thành lập")]),t("date-picker",{attrs:{config:a.options},model:{value:a.Company.company_date_create,callback:function(t){a.$set(a.Company,"company_date_create",t)},expression:"Company.company_date_create"}})],1)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Địa chỉ công ty")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_address,expression:"Company.company_address"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Địa chỉ công ty"},domProps:{value:a.Company.company_address},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_address",t.target.value)}}})])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Cơ quan thuế quản lý")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_tax_manager,expression:"Company.company_tax_manager"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Cơ quan thuế quản lý"},domProps:{value:a.Company.company_tax_manager},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_tax_manager",t.target.value)}}})])]),t("div",{staticClass:"col-6"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Ngành nghề kinh doanh")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_type,expression:"Company.company_type"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ngành nghề kinh doanh"},domProps:{value:a.Company.company_type},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_type",t.target.value)}}})])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Nơi cấp MST")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.taxcode_issuedby,expression:"Company.taxcode_issuedby"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nơi cấp mã số thuế"},domProps:{value:a.Company.taxcode_issuedby},on:{input:function(t){t.target.composing||a.$set(a.Company,"taxcode_issuedby",t.target.value)}}})])]),t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("STK ngân hàng")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.bankcode,expression:"Company.bankcode"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Số tài khoản ngân hàng"},domProps:{value:a.Company.bankcode},on:{input:function(t){t.target.composing||a.$set(a.Company,"bankcode",t.target.value)}}})])]),t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Tên ngân hàng")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.bankname,expression:"Company.bankname"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Tên ngân hàng"},domProps:{value:a.Company.bankname},on:{input:function(t){t.target.composing||a.$set(a.Company,"bankname",t.target.value)}}})])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Người đại diện")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_owner,expression:"Company.company_owner"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Người đại diện"},domProps:{value:a.Company.company_owner},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_owner",t.target.value)}}})])]),t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Chức vụ")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_position,expression:"Company.company_position"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Chức vụ"},domProps:{value:a.Company.company_position},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_position",t.target.value)}}})])]),t("div",{staticClass:"col-2"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Giới tính")]),t("select",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_sex,expression:"Company.company_sex"}],staticClass:"form-select",on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(a){return a.selected})).map((function(a){var t="_value"in a?a._value:a.value;return t}));a.$set(a.Company,"company_sex",t.target.multiple?o:o[0])}}},a._l(a.sex,(function(o){return t("option",{key:o.value,domProps:{value:o.value}},[a._v(" "+a._s(o.text)+" ")])})),0)])]),t("div",{staticClass:"col-2"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Ngày sinh")]),t("date-picker",{attrs:{config:a.options},model:{value:a.Company.owner_birthday,callback:function(t){a.$set(a.Company,"owner_birthday",t)},expression:"Company.owner_birthday"}})],1)])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:""}},[a._v("Điện thoại cố định")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_phone,expression:"Company.company_phone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập Điện thoại cố định"},domProps:{value:a.Company.company_phone},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_phone",t.target.value)}}})])]),t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Điện thoại di động")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_telephone,expression:"Company.company_telephone"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập Điện thoại di động"},domProps:{value:a.Company.company_telephone},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_telephone",t.target.value)}}})])]),t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_email,expression:"Company.company_email"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập email người đại diện"},domProps:{value:a.Company.company_email},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_email",t.target.value)}}})])])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Số CMND/CCCD")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_card_id,expression:"Company.company_card_id"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập Số CMND/CCCD"},domProps:{value:a.Company.company_card_id},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_card_id",t.target.value)}}})])]),t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Ngày cấp CMND/CCCD")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_card_date,expression:"Company.company_card_date"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ngày cấp CMND/CCCD"},domProps:{value:a.Company.company_card_date},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_card_date",t.target.value)}}})])]),t("div",{staticClass:"col-4"},[t("div",{staticClass:"form-group"},[t("label",[a._v("Nơi cấp CMND/CCCD")]),t("input",{directives:[{name:"model",rawName:"v-model",value:a.Company.company_card_issued,expression:"Company.company_card_issued"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nơi cấp CMND/CCCD"},domProps:{value:a.Company.company_card_issued},on:{input:function(t){t.target.composing||a.$set(a.Company,"company_card_issued",t.target.value)}}})])])])]),t("div",{staticClass:"card-footer border-top-0"},[t("router-link",{staticClass:"btn btn-outline-secondary me-2",attrs:{to:{name:"companies"},tag:"a"}},[t("i",{staticClass:"fa-solid fa-arrow-left"}),a._v(" Quay lại")]),t("button",{staticClass:"btn btn-primary",attrs:{disabled:a.isDisableStore,title:"Lưu dữ liệu"},on:{click:function(t){return a.store()}}},[t("i",{staticClass:"fa-solid fa-floppy-disk"}),a._v(" Lưu ")])],1)])])])},n=[],s=(o(560),o(1859)),i=o(8915),c=o.n(i),p={components:{datePicker:c()},data(){return{infoCompany:[],company_id:0,company_type:"",title:"Tạo mới công ty",Company:{company_name:"",company_address:"",company_telephone:0,company_phone:0,company_owner:"",company_tax_manager:"",company_email:"",company_position:"",company_tax_manager:"",company_sex:"Ông",company_type:"",company_date_create:this.$econtract.formatDate(new Date),owner_birthday:"01/01/1970"},isDisableStore:!1,isUpdate:!1,sex:[{text:"Ông",value:"Ông"},{text:"Bà",value:"Bà"}],options:{format:"DD/MM/YYYY",useCurrent:!1}}},created(){this.$route.params.id>0&&(this.title="Cập nhật công ty",this.company_id=this.$route.params.id,this.isUpdate=!0,this.show())},methods:{async store(){this.$econtract.showLoading(),this.isUpdate?await s.Z.put(`${API_URL}/companies/update`,this.Company).then((a=>{this.$router.push("/companies/"),this.$econtract.hideLoading(),this.$toast.success("Cập nhật thành công")})):await s.Z.post("/companies",this.Company).then((a=>{200==a.status&&(404==a.data.error?(this.$toast.error(a.data.msg),this.$econtract.hideLoading()):(this.$router.push("/companies/"),this.$toast.success("Thêm mới thành công"),this.$econtract.hideLoading()))}))},async show(){this.$econtract.showLoading();const a=await s.Z.get(`/companies/${this.company_id}`);this.Company.company_id=this.company_id,this.Company=a.data,this.Company.company_date_create=this.$econtract.formatDate(a.data.company_date_create),this.Company.company_card_date=this.$econtract.formatDate(a.data.company_card_date),this.Company.owner_birthday=this.$econtract.formatDate(a.data.owner_birthday),this.$econtract.hideLoading()},getInfo(){this.$econtract.showLoading(),s.Z.post("/companies/getInfo",{taxcode:this.Company.company_taxcode}).then((a=>{let t=JSON.parse(a.data);if(t.Data.length>0){let a=JSON.parse(t.Data);this.infoCompany=a,this.company_type=a.activeStatus,t.Success&&(this.Company.company_taxcode=a.taxCode,this.Company.company_name=a.companyName,this.Company.company_date_create=this.$econtract.formatDate(a.registedDate),this.Company.company_address=a.address,this.Company.company_tax_manager=a.businessResistration,this.Company.company_type=a.businessType,this.Company.company_email=a.email,this.Company.company_owner=a.owner,this.Company.company_telephone=a.contactPhoneNumber,this.Company.company_position=a.ownerPosition,this.$econtract.hideLoading())}else this.$toast.warning("Không tìm thấy thông tin công ty"),this.$econtract.hideLoading()}))}}},r=p,m=o(1001),l=(0,m.Z)(r,e,n,!1,null,null,null),d=l.exports}}]);
//# sourceMappingURL=494.20f98ec6.js.map