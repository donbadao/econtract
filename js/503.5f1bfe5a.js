"use strict";(self["webpackChunkecontract_frontend"]=self["webpackChunkecontract_frontend"]||[]).push([[503],{503:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var s=function(){var t=this,e=t._self._c;return e("div",[e("h1",{staticClass:"fw-bold title-page"},[t._v("Danh sách mẫu hợp đồng")]),e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"search",placeholder:"Nhập tên dịch vụ để tìm kiếm...."},domProps:{value:t.keyword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),e("button",{staticClass:"btn btn-primary-soft",on:{click:t.uploadTemplates}},[e("i",{staticClass:"fa-regular fa-cloud-arrow-up"}),t._v(" Upload ")]),e("button",{staticClass:"btn btn-primary-soft",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.search()}}},[e("i",{staticClass:"fa-solid fa-magnifying-glass"}),t._v(" Tìm kiếm ")])])])]),e("templateList",{attrs:{templates:t.templateSearch}}),e("uploadTemplates",{ref:"uploadTemplates"})],1)},n=[],o=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("table",{staticClass:"table table-hover"},[t._m(0),e("tbody",t._l(t.templates,(function(a,s){return e("tr",{key:a.temp_id},[e("td",[t._v(t._s(s+1))]),e("td",[e("span",{staticClass:"text-primary"},[t._v(t._s(a.temp_name))])]),e("td",[t._v(t._s(a.temp_display))]),e("td",[t._v(t._s(a.temp_path))]),e("td",[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.active,expression:"item.active"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:a.active,checked:Array.isArray(a.active)?t._i(a.active,null)>-1:a.active},on:{change:[function(e){var s=a.active,n=e.target,o=!!n.checked;if(Array.isArray(s)){var l=null,i=t._i(s,l);n.checked?i<0&&t.$set(a,"active",s.concat([l])):i>-1&&t.$set(a,"active",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(a,"active",o)},function(e){return t.changeStatus(a,0)}]}})])]),e("td",[e("div",{staticClass:"form-check"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.temp_cloneRow,expression:"item.temp_cloneRow"}],staticClass:"form-check-input",attrs:{type:"checkbox"},domProps:{checked:a.temp_cloneRow,checked:Array.isArray(a.temp_cloneRow)?t._i(a.temp_cloneRow,null)>-1:a.temp_cloneRow},on:{change:[function(e){var s=a.temp_cloneRow,n=e.target,o=!!n.checked;if(Array.isArray(s)){var l=null,i=t._i(s,l);n.checked?i<0&&t.$set(a,"temp_cloneRow",s.concat([l])):i>-1&&t.$set(a,"temp_cloneRow",s.slice(0,i).concat(s.slice(i+1)))}else t.$set(a,"temp_cloneRow",o)},function(e){return t.changeStatus(a,1)}]}})])]),t._m(1,!0)])})),0)])])])])},l=[function(){var t=this,e=t._self._c;return e("thead",[e("tr",{staticClass:"table-dark"},[e("th",{staticClass:"rounded-start"},[t._v("#")]),e("th",[t._v("Tên mẫu hợp đồng")]),e("th",[t._v("Tên hiền thị")]),e("th",[t._v("Đường dẫn")]),e("th",[t._v("Hiển thị")]),e("th",[t._v("Lặp dòng")]),e("th",{staticClass:"rounded-end",attrs:{width:"10"}})])])},function(){var t=this,e=t._self._c;return e("td",[e("div",{staticClass:"dropdown"},[e("button",{staticClass:"btn btn-sm border-0",attrs:{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}},[e("i",{staticClass:"fa-solid fa-ellipsis-vertical"})]),e("ul",{staticClass:"dropdown-menu"},[e("li",[e("a",{staticClass:"dropdown-item hand"},[e("i",{staticClass:"fa-thin fa-pen-to-square"}),t._v(" Cập nhật mẫu")])])])])])}],i=a(1859),r={props:{templates:Array},data(){return{templateSelected:[]}},methods:{async changeStatus(t,e){this.$econtract.showLoading(),await i.Z.put(`${API_URL}/templates/changeStatus`,{template:t,status:e}).then((t=>{t.data&&(this.$toast.success("Cập nhật dữ liệu thành công"),this.$econtract.hideLoading())}))}}},c=r,d=a(1001),p=(0,d.Z)(c,o,l,!1,null,null,null),u=p.exports,m=function(){var t=this,e=t._self._c;return e("b-modal",{attrs:{id:"modal-upload-templates","hide-header-close":"","no-close-on-backdrop":"","no-fade":"",size:"md","ignore-enforce-focus-selector":"span.select2-container",title:"title"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("button",{staticClass:"btn btn-primary-soft",on:{click:function(e){return t.store()}}},[e("i",{staticClass:"fa-thin fa-floppy-disk"}),t._v(" Lưu ")]),e("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.$bvModal.hide("modal-upload-templates")}}},[e("i",{staticClass:"fa-thin fa-xmark"}),t._v(" Đóng ")])]},proxy:!0}])},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:""}},[t._v("Tên thư mục")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.folder_name,expression:"folder_name"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.folder_name},on:{input:function(e){e.target.composing||(t.folder_name=e.target.value)}}})]),e("div",{staticClass:"form-group"},[e("input",{staticClass:"form-control",attrs:{type:"file"},on:{change:t.getFile}})])])},h=[],f={data(){return{title:"Upload templates",file:"",folder_name:""}},methods:{show(){this.$bvModal.show("modal-upload-templates")},getFile(t){let e=t.target.files||t.dataTransfer.files;e.length&&(this.file=e[0])},async store(){if(!this.file)return void alert("Please select a file.");let t=new FormData;t.append("file",this.file),t.append("folder_name",this.folder_name),await i.Z.post("templates",t,{headers:{"Content-Type":"multipart/form-data"}}).then((t=>{console.log(t.data)}))}}},v=f,_=(0,d.Z)(v,m,h,!1,null,null,null),g=_.exports,y={components:{templateList:u,uploadTemplates:g},data(){return{templates:[],keyword:""}},computed:{templateSearch(){return this.templates.filter((t=>-1!==t.temp_name.toLowerCase().indexOf(this.keyword.toLowerCase())))}},created(){this.getTemplates()},methods:{uploadTemplates(){this.$refs.uploadTemplates.show()},search(){},async getTemplates(){this.$econtract.showLoading(),await i.Z.get("/templates/get_all").then((t=>{console.log(t),this.templates=t.data,this.$econtract.hideLoading()}))}}},w=y,C=(0,d.Z)(w,s,n,!1,null,null,null),k=C.exports}}]);
//# sourceMappingURL=503.5f1bfe5a.js.map