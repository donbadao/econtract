"use strict";(self["webpackChunkecontract_frontend"]=self["webpackChunkecontract_frontend"]||[]).push([[390],{390:function(t,a,e){e.r(a),e.d(a,{default:function(){return p}});var s=function(){var t=this,a=t._self._c;return a("div",[a("h1",{staticClass:"fw-bold title-page"},[t._v("Danh sách hợp đồng đã thanh toán")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"d-flex justify-content-between mb-3"},[a("div",[a("div",{staticClass:"input-group"},[a("div",{staticClass:"dropdown"},[t._m(0),a("ul",{staticClass:"dropdown-menu"},[a("li",[a("div",{staticClass:"dropdown-item"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchBy.company_name,expression:"searchBy.company_name"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"flexCheckDefault"},domProps:{value:t.searchBy.company_name,checked:Array.isArray(t.searchBy.company_name)?t._i(t.searchBy.company_name,t.searchBy.company_name)>-1:t.searchBy.company_name},on:{change:function(a){var e=t.searchBy.company_name,s=a.target,r=!!s.checked;if(Array.isArray(e)){var c=t.searchBy.company_name,n=t._i(e,c);s.checked?n<0&&t.$set(t.searchBy,"company_name",e.concat([c])):n>-1&&t.$set(t.searchBy,"company_name",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.searchBy,"company_name",r)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"flexCheckDefault"}},[t._v(" Tìm theo tên công ty ")])])])]),a("li",[a("div",{staticClass:"dropdown-item"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchBy.taxcode,expression:"searchBy.taxcode"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"flexCheckDefault"},domProps:{value:t.searchBy.taxcode,checked:Array.isArray(t.searchBy.taxcode)?t._i(t.searchBy.taxcode,t.searchBy.taxcode)>-1:t.searchBy.taxcode},on:{change:function(a){var e=t.searchBy.taxcode,s=a.target,r=!!s.checked;if(Array.isArray(e)){var c=t.searchBy.taxcode,n=t._i(e,c);s.checked?n<0&&t.$set(t.searchBy,"taxcode",e.concat([c])):n>-1&&t.$set(t.searchBy,"taxcode",e.slice(0,n).concat(e.slice(n+1)))}else t.$set(t.searchBy,"taxcode",r)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"flexCheckDefault"}},[t._v(" Tìm theo mã số thuế công ty ")])])])]),a("li")])]),a("div",{staticClass:"position-relative d-inline-flex align-items-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.searchBy.placeholder,"aria-label":"Username","aria-describedby":"basic-addon1"},domProps:{value:t.keyword},on:{change:function(a){return t.search()},input:function(a){a.target.composing||(t.keyword=a.target.value)}}})]),a("div",{staticClass:"dropdown ms-1"},[t._m(1),a("ul",{staticClass:"dropdown-menu p-3",staticStyle:{width:"500px"}},[t._m(2),a("li",[a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Từ ngày")]),a("date-picker",{attrs:{config:t.options},model:{value:t.searchBy.startDate,callback:function(a){t.$set(t.searchBy,"startDate",a)},expression:"searchBy.startDate"}})],1)]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Đến ngày")]),a("date-picker",{attrs:{config:t.options},model:{value:t.searchBy.endDate,callback:function(a){t.$set(t.searchBy,"endDate",a)},expression:"searchBy.endDate"}})],1)])])])]),t._m(3),a("li",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Trạng thái hợp đồng")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchBy.contract_status,expression:"searchBy.contract_status"}],staticClass:"form-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.searchBy,"contract_status",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"-1"}},[t._v("Tất cả")]),a("option",{attrs:{value:"0"}},[t._v("Mới tạo lập")]),a("option",{attrs:{value:"1"}},[t._v("Đã trình ký")]),a("option",{attrs:{value:"2"}},[t._v("Đã gửi khách hàng")]),a("option",{attrs:{value:"3"}},[t._v("Hoàn thiện")]),a("option",{attrs:{value:"4"}},[t._v("Đã làm thanh toán")])])])]),a("div",{staticClass:"col-6"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Trạng thái thanh toán")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchBy.payment_status,expression:"searchBy.payment_status"}],staticClass:"form-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var a="_value"in t?t._value:t.value;return a}));t.$set(t.searchBy,"payment_status",a.target.multiple?e:e[0])}}},[a("option",{attrs:{value:"-1"}},[t._v("Tất cả")]),a("option",{attrs:{value:"0"}},[t._v("Chưa thanh toán")]),a("option",{attrs:{value:"1"}},[t._v("Đã nhận tiền nhưng chưa nộp tiền")]),a("option",{attrs:{value:"2"}},[t._v(" Đã nộp tiền nhưng chưa làm thanh toán ")]),a("option",{attrs:{value:"3"}},[t._v("Đã nộp tiền và xuất hóa đơn")])])])])])]),a("li",[a("button",{staticClass:"btn btn-primary-soft mt-2",on:{click:t.advanceSearch}},[a("i",{staticClass:"fa-solid fa-bars-filter"}),t._v(" Lọc ")]),a("button",{staticClass:"btn btn-secondary mt-2 ms-1",on:{click:t.search}},[a("i",{staticClass:"fa-regular fa-rotate"}),t._v(" Reset ")])])])])])])])])]),a("table",{staticClass:"table table-responsive"},[t._m(4),a("tbody",t._l(t.contracts,(function(e,s){return a("tr",{key:e.contract_id},[a("td",[t._v(t._s(s+1))]),a("td",[a("router-link",{attrs:{to:{name:"contract-detail",params:{id:e.contract_id}}}},[a("span",{staticClass:"text-primary"},[t._v(t._s(e.company_name))])])],1),a("td",[t._v(t._s(e.company_taxcode))]),a("td",[t._v(t._s(t._f("moment")(e.contract_payment_date,"DD/MM/YYYY HH:mm:ss")))]),a("td",[a("span",{staticClass:"badge text-bg-success text-wrap"},[t._v(t._s(t.paymentStatus(e.contract_payment)))])]),a("td",[a("strong",{staticClass:"text-danger"},[t._v(t._s(t._f("formatamout")(e.contract_total))+"đ")])])])})),0)])])},r=[function(){var t=this,a=t._self._c;return a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside"}},[a("i",{staticClass:"fa-regular fa-gear"})])},function(){var t=this,a=t._self._c;return a("button",{staticClass:"btn btn-primary-soft",attrs:{type:"button","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside"}},[a("i",{staticClass:"fa-solid fa-bars-filter"}),t._v(" Lọc ")])},function(){var t=this,a=t._self._c;return a("li",[a("h5",{staticClass:"fw-bold"},[t._v("Tìm kiếm")])])},function(){var t=this,a=t._self._c;return a("li",[a("hr",{staticClass:"dropdown-divider"})])},function(){var t=this,a=t._self._c;return a("thead",[a("tr",[a("th",{attrs:{width:"10"}},[t._v("#")]),a("th",{attrs:{width:"45%"}},[t._v("Tên công ty")]),a("th",{attrs:{width:"10%"}},[t._v("Mã số thuế")]),a("th",[t._v("Ngày thanh toán")]),a("th",[t._v("Trạng thái")]),a("th",[t._v("Tổng tiền (VAT)")])])])}],c=e(1859),n=e(9773),o=e.n(n),i=e(8915),l=e.n(i),d={components:{datePicker:l()},data(){return{keyword:"",contracts:[],searchBy:{taxcode:!1,company_name:!1,placeholder:"Tìm theo tên công ty",startDate:o()().startOf("month").format("DD/MM/YYYY"),endDate:o()().add(2,"months").startOf("month").format("DD/MM/YYYY"),payment_status:-1,contract_status:-1,page:1},options:{format:"DD/MM/YYYY",useCurrent:!1}}},created(){this.getContracts()},methods:{advanceSearch(){this.getContracts({date:{startDate:this.searchBy.startDate,endDate:this.searchBy.endDate},page:this.pagination.current_page,payment:this.searchBy.payment_status,status:this.searchBy.contract_status})},search(){this.getContracts({page:this.pagination.current_page,name:this.keyword})},async getContracts(t){await c.Z.post("contractpayment/fetchAll",t).then((t=>{this.contracts=t.data}))},paymentStatus(t){return this.$econtract.paymentStatus(t)}}},h=d,u=e(1001),m=(0,u.Z)(h,s,r,!1,null,null,null),p=m.exports}}]);
//# sourceMappingURL=390.3dd39d3c.js.map