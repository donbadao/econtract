"use strict";(self["webpackChunkecontract_frontend"]=self["webpackChunkecontract_frontend"]||[]).push([[271],{7150:function(t,e,a){a.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return t.detail.hasOwnProperty("isDelete")?t._e():e("tr",[e("td",[t._v(t._s(t.index+1))]),e("td",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.detail.detail_content,expression:"detail.detail_content"}],staticClass:"form-control",attrs:{type:"text",rows:"1","data-bs-toggle":"dropdown"},domProps:{value:t.detail.detail_content},on:{click:function(e){t.autoComplete.isShow=!0},input:function(e){e.target.composing||t.$set(t.detail,"detail_content",e.target.value)}}}),t._v(" "),e("ul",{staticClass:"dropdown-menu bg-blur"},[t._l(t.filterItem,(function(a){return e("li",{key:a,on:{click:function(e){return t.setItem(a)}}},[e("a",{staticClass:"dropdown-item hand",attrs:{title:a}},[t._v(t._s(a))])])})),0==t.filterItem.length?e("li",[e("div",{staticClass:"text-danger text-center"},[t._v("Không có dữ liệu")])]):t._e()],2)]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.detail_unit,expression:"detail.detail_unit"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.detail.detail_unit},on:{input:function(e){e.target.composing||t.$set(t.detail,"detail_unit",e.target.value)}}})]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.detail.detail_quantity,expression:"detail.detail_quantity"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.detail.detail_quantity},on:{input:function(e){e.target.composing||t.$set(t.detail,"detail_quantity",e.target.value)}}})]),e("td",[e("money",t._b({staticClass:"form-control",model:{value:t.detail.detail_product_price,callback:function(e){t.$set(t.detail,"detail_product_price",e)},expression:"detail.detail_product_price"}},"money",t.money,!1))],1),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.priceAfterTax,expression:"priceAfterTax"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.priceAfterTax},on:{input:function(e){e.target.composing||(t.priceAfterTax=e.target.value)}}})]),e("td",[e("button",{staticClass:"btn btn-primary-soft btn-sm",on:{click:function(e){return t.sendDetail(t.detail,t.index)}}},[e("i",{staticClass:"fa-thin fa-pen-to-square"})]),e("button",{staticClass:"btn btn-danger-soft btn-sm ms-1",on:{click:function(e){return t.deleteDetail(t.detail,t.index)}}},[e("i",{staticClass:"fa-thin fa-trash-can"})])])])},s=[],n=a(4838),o={components:{Money:n.Money},props:{detail:Object,index:Number},data(){return{autoComplete:{items:["Dịch vụ chữ ký số công cộng VNPT-CA ({key})","HD{key} ({key} hóa đơn)","Chứng từ thuế thu nhập cá nhân HD{key} ({key} chứng từ)","Dịch vụ kê khai BHXH VNPT-BHXH ({key})","Gia hạn dịch vụ giám sát thành trình VNPT-TRACKING ({key})","Gói cước dịch vụ VNPT-CA trên sim Vinaphone ({key})","Dịch vụ chữ ký số công cộng VNPT-CA tích hợp VNPT-BHXH ({key})"],isShow:!1},isDelete:!1,total:0,priceAfterTax:0,money:{decimal:",",thousands:".",prefix:"",suffix:" ",precision:4,masked:!1}}},watch:{priceAfterTax:{handler(t){this.detail.detail_product_price=parseFloat(this.priceAfterTax/1.1/this.detail.detail_quantity).toFixed(4)}}},computed:{filterItem(){return this.autoComplete.isShow=!0,this.autoComplete.items.filter((t=>{if(this.detail.detail_content)return-1!==t.toLowerCase().indexOf(this.detail.detail_content.toLowerCase())}))}},created(){},methods:{setItem(t){let e=this.detail.product.text;this.detail.detail_content=t.replace(/\{key\}/g,e),this.autoComplete.isShow=!1},reverse(){this.detail.detail_product_price=parseFloat(this.total/1.1).toFixed(4)},deleteDetail(t,e){this.$emit("deleteDetail",t,e)},sendDetail(t,e){this.$emit("sendDetail",t,e)}}},r=o,l=a(1001),c=(0,l.Z)(r,i,s,!1,null,null,null),d=c.exports},7096:function(t,e,a){a.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t._self._c;return t.isShow?e("b-modal",{ref:"modalCompanies",attrs:{id:"modalCompanies",title:"Danh sách công ty","no-close-on-backdrop":"","no-fade":"",size:"lg","hide-footer":""}},[e("div",{staticClass:"row mb-1"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập mã số thuế hoặc tên doanh nghiệp để tìm kiếm...."},domProps:{value:t.keyword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),e("button",{staticClass:"btn btn-primary-soft",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.search()}}},[e("i",{staticClass:"fa-solid fa-magnifying-glass"}),t._v(" Tìm kiếm ")])])])]),e("div",{staticClass:"card border-0"},[e("div",{staticClass:"card-body p-0 overflow-auto",staticStyle:{height:"400px"}},[e("table",{staticClass:"table table-dark-gray align-middle p-4 mb-0 table-hover"},[e("thead",{staticClass:"table-dark"},[e("tr",[e("th",{staticClass:"rounded-start"},[t._v("#")]),e("th",{attrs:{width:"65%"}},[t._v("Tên công ty")]),e("th",[t._v("Mã số thuế")]),e("th",{staticClass:"rounded-end",attrs:{width:"10"}})])]),e("tbody",t._l(t.companies,(function(a,i){return e("tr",{key:a.company_id},[e("td",[t._v(t._s(i+1))]),e("td",[e("span",{staticClass:"text-primary hand"},[t._v(t._s(a.company_name))])]),e("td",[t._v(t._s(a.company_taxcode))]),e("td",[e("button",{staticClass:"btn btn-primary-soft btn-xs",attrs:{title:"Chọn công ty"},on:{click:function(e){return t.choose(a)}}},[e("i",{staticClass:"fa-thin fa-circle-arrow-right"})])])])})),0)]),0==t.companies.length?e("NotFound"):t._e()],1)])]):t._e()},s=[],n=a(438),o=a(2847),r={components:{pagination:n.Z,NotFound:o.Z},data(){return{isShow:!0,companies:[],keyword:"",pagination:{total:0,per_page:2,from:1,to:0,current_page:1},debounceTimeout:null}},created(){},beforeMount(){},mounted(){this.getNextCompanies(this.pagination.current_page)},methods:{search(){this.getCompanies(this.pagination.current_page)},show(){this.isShow=!0,this.$bvModal.show("modalCompanies"),this.getCompanies()},choose(t){this.$emit("chooseCompany",t),this.$toast.success("Thêm công ty thành công"),this.$bvModal.hide("modalCompanies")},async getNextCompanies(t){},getCompanies(t){this.$econtract.showLoading(),""!=this.keyword&&(t=1),clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout((async()=>{await axios.post("/companies/searchScroll",{pageSize:20,page:t,name:this.keyword}).then((t=>{this.companies=t.data.data,this.$econtract.hideLoading()}))}),300)}}},l=r,c=a(1001),d=(0,c.Z)(l,i,s,!1,null,null,null),u=d.exports},4132:function(t,e,a){a.d(e,{Z:function(){return d}});var i=function(){var t=this,e=t._self._c;return t.isShow?e("b-modal",{attrs:{id:"modalCustomers",title:"Danh sách đầu mối liên hệ","no-fade":"",size:"md","hide-footer":""}},[e("div",{staticClass:"row mb-1"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"input-group mb-3"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Nhập tên đầu mối liên hệ để tìm kiếm...."},domProps:{value:t.keyword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search()},input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),e("button",{staticClass:"btn btn-primary-soft",attrs:{type:"button",id:"button-addon2"},on:{click:function(e){return t.search()}}},[e("i",{staticClass:"fa-solid fa-magnifying-glass"}),t._v(" Tìm kiếm ")])])])]),e("div",{staticClass:"card border-0"},[e("div",{staticClass:"card-body p-0 overflow-auto",staticStyle:{height:"400px"}},[e("table",{staticClass:"table table-dark-gray align-middle p-4 mb-0 table-hover"},[e("thead",{staticClass:"table-dark"},[e("tr",[e("th",{staticClass:"rounded-start"},[t._v("Tên đối tác")]),e("th",[t._v("Số điện thoại")]),e("th",{staticClass:"rounded-end",attrs:{width:"10"}})])]),e("tbody",t._l(t.customers,(function(a){return e("tr",{key:a.customer_id,staticClass:"hand",attrs:{title:a.customer_name}},[e("td",[e("span",{staticClass:"text-primary",attrs:{title:a.customer_name}},[t._v(t._s(a.customer_name))])]),e("td",[t._v(t._s(a.customer_phone))]),e("td",[e("button",{staticClass:"btn btn-primary-soft btn-xs",attrs:{title:"Chọn công ty"},on:{click:function(e){return t.choose(a)}}},[e("i",{staticClass:"fa-thin fa-circle-arrow-right"})])])])})),0)]),0==t.customers.length?e("NotFound"):t._e()],1)])]):t._e()},s=[],n=a(2847),o={components:{NotFound:n.Z},data(){return{isShow:!0,customers:[],keyword:"",pagination:{total:0,per_page:2,from:1,to:0,current_page:1}}},created(){},methods:{search(){this.getCustomers(this.pagination.current_page)},show(){this.isShow=!0,this.$bvModal.show("modalCustomers"),this.getCustomers()},close(){this.$bvModal.hide("modalCustomers")},choose(t){this.$emit("chooseCustomer",t),this.$toast.success("Thêm người liên hệ thành công"),this.$bvModal.hide("modalCustomers")},async getCustomers(t){this.$econtract.showLoading(),""!=this.keyword&&(t=1),await axios.post("/customers/searchScroll",{pageSize:20,page:t,name:this.keyword}).then((t=>{this.customers=t.data.data,this.$econtract.hideLoading()}))}}},r=o,l=a(1001),c=(0,l.Z)(r,i,s,!1,null,null,null),d=c.exports},2847:function(t,e,a){a.d(e,{Z:function(){return l}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col flex-column text-center"},[e("svg",{attrs:{width:"100",height:"100"}},[e("svg",{attrs:{id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 208 230"}},[e("defs",[e("linearGradient",{attrs:{id:"colorNodata",x1:"133.69",y1:"120.61",x2:"73.06",y2:"91.22",gradientTransform:"matrix(1, 0, 0, -1, 0, 231.28)",gradientUnits:"userSpaceOnUse"}},[e("stop",{attrs:{offset:"0","stop-color":"#95abc2"}}),e("stop",{attrs:{offset:"1","stop-color":"#fff"}})],1),e("mask",{attrs:{id:"maskColorNodata",x:"134.5",y:"14.55",width:"17.97",height:"17.21",maskUnits:"userSpaceOnUse"}},[e("g",{attrs:{id:"handFlag"}},[e("path",{attrs:{d:"M137,24a8.1,8.1,0,0,1,8.1-8.1h6.3v6.3a8.1,8.1,0,0,1-8.1,8.1H137Z",fill:"#fff"}})])])],1),e("path",{attrs:{d:"M94.2,85.7l85.9,23.6v82.6l-85.9-37Z",fill:"#8e99a3"}}),e("path",{attrs:{d:"M94.3,85.7,24.1,105.3v86.8l70.1-37.6Z",fill:"#a0aab5"}}),e("path",{attrs:{d:"M139.4,185.9c-19.4-5.7-53.4-5.2-66.2-38.3-11.7-30.4,31.5-59.6,43.6-46.8,8.6,9.1-2.4,22.2-17.7,20.7C82,119.8,71.9,104.5,75.3,88c6.7-32.7,58.3-54.4,60.5-55.9",fill:"none","stroke-width":"3","stroke-dasharray":"6 7",stroke:"url(#colorNodata)"}}),e("path",{attrs:{d:"M141,21.5s-.5-12.3-3.7-15.6a8.4,8.4,0,0,0-11.8,11.8C128.7,21,141,21.5,141,21.5Z",fill:"#ced8e5",opacity:"0.4"}}),e("path",{attrs:{d:"M146.7,26.4s.5,12.3,3.7,15.6a8.4,8.4,0,0,0,11.8-11.8C159.1,26.9,146.7,26.4,146.7,26.4Z",fill:"#ced8e5",opacity:"0.4"}}),e("path",{attrs:{d:"M137,24a8.1,8.1,0,0,1,8.1-8.1h6.3v6.3a8.1,8.1,0,0,1-8.1,8.1H137Z",fill:"#a8b7c5"}}),e("g",{attrs:{mask:"url(#maskColorNodata)"}},[e("rect",{attrs:{x:"140.1",y:"16.7",width:"2.3",height:"16.69",transform:"translate(23.6 107.2) rotate(-45)",fill:"#dde5f2"}}),e("path",{attrs:{d:"M139.1,16.2l1.6-1.6,11.8,11.8L150.9,28Z",fill:"#dde5f2"}})]),e("path",{attrs:{d:"M159.2,12.3l5.5-1.3",fill:"none",stroke:"#8696c5","stroke-width":"0.9"}}),e("path",{attrs:{d:"M156.9,10.1l2.1-5.5",fill:"none",stroke:"#8696c5","stroke-width":"0.9"}}),e("path",{attrs:{d:"M153.7,20.5a6.1,6.1,0,1,0-6.1-6.1A6.1,6.1,0,0,0,153.7,20.5Z",fill:"#8b9aa8"}}),e("path",{attrs:{d:"M24.1,105.5,110,132.8V229L24.1,192Z",fill:"#dae2ec"}}),e("path",{attrs:{d:"M180.5,109.2l-71.7,23.6V229l71.7-37Z",fill:"#c5d0d9"}}),e("path",{attrs:{d:"M180.3,109.1,208,146.2l-73.6,29L109,132.6Z",fill:"#dae2ec"}}),e("path",{attrs:{d:"M24,105.3,0,142.8l84.6,32.4,24.7-42.7Z",fill:"#c5d0d9"}})])]),e("h4",{staticClass:"text-center font-size-20px mb-2 text-no--data text-primary"},[t._v("Chưa có dữ liệu")]),e("div",{staticClass:"text-muted"},[t._v("Hãy thêm dữ liệu hoặc Kiểm tra lại thông tin tra cứu")])])},s=[],n=a(1001),o={},r=(0,n.Z)(o,i,s,!1,null,null,null),l=r.exports},438:function(t,e,a){a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"d-flex pagination justify-content-center mt-2"},[t.pagination.current_page>1?e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]):t._e(),t._l(t.pagesNumber,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:a==t.pagination.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage(a)}}},[t._v(t._s(a))])])})),e("li",{staticClass:"page-item"},[t.pagination.current_page<t.pagination.last_page?e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])]):t._e()])],2)])])},s=[],n=(a(560),{props:{pagination:{type:Object,required:!0},offset:{type:Number,default:4}},computed:{pagesNumber:function(){if(!this.pagination.to)return[];var t=this.pagination.current_page-this.offset;t<1&&(t=1);var e=t+2*this.offset;e>=this.pagination.last_page&&(e=this.pagination.last_page);var a=[];for(t=1;t<=e;t++)a.push(t);return a}},methods:{changePage:function(t){this.pagination.current_page=t}}}),o=n,r=a(1001),l=(0,r.Z)(o,i,s,!1,null,null,null),c=l.exports}}]);
//# sourceMappingURL=271.3bfcba71.js.map